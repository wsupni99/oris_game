## Задание по семестровой №2: Gartic Phone

**Цель:** Реализовать сетевую игру для 2+ игроков на Java (Swing + сокеты). Client-Server-Client архитектура. Собственный протокол с 4+ типами сообщений. GUI с рисованием (Graphics) и чатом. Многопоточность для сети/интерфейса.

**Репозиторий преподавателя:** В 11_402 есть примеры сокетов (Сокеты1/2 записи), Swing-компоненты. Бери структуру Client/Server оттуда.

**Требования к коду (строго):**

- Только чистые сокеты + Swing (без Spring/Netty).
- Минимум комментариев.
- Каждый в группе знает весь код.
- Протокол: JSON/байты с типами сообщений (минимум 4 видимых игроку).
- Рисование: Canvas с Graphics2D для рисовалки.
- Многопоточность: ExecutorService для сетевых задач.


## Режимы игры

### 1. "Угадай что рисую" (2+ игрока)

- Сервер: Создаёт комнату (порт 8080).
- Клиенты: Подключаются по IP:порт.
- Админ (хост) рисует на Canvas (линия, цвет, стирание).
- Остальные: Чат для загаданного слова + поле ввода.
- Детект: Сервер сравнивает текст с загадкой (простой match).
- Видимые сообщения:

1. `DRAW` - координаты мазка (x,y,цвет).
2. `GUESS` - текст догадки.
3. `CORRECT` - "Угадал! Слово: ...".
4. `CHAT` - обычные сообщения.


### 2. "Глухой телефон" (4+ игрока)

- Админ создаёт комнату, все жмут "Готов".
- Админ жмёт "Старт" + таймер раунда (30-60с).
- Раунды:

1. Все пишут предложение (текст → сервер).
2. Сдвиг: Каждый получает текст предыдущего → рисует.
3. Сдвиг: Каждый получает рисунок следующего → описывает текстом.
4. Повтор до круга.
- Финал: Сервер шлёт последовательность (текст1 → рис1 → текст2 → рис2...).
- Видимые сообщения:

1. `TEXT_SUBMIT` - отправка текста/описания.
2. `DRAW_UPDATE` - мазки для рисовалки.
3. `NEXT_ROUND` - "Получили: [текст/картинка]".
4. `FINAL_CHAIN` - вся цепочка.


## Архитектура (Client/Server)

```
Server:
- ServerSocket (8080)
- HashMap<Socket, Player> (игроки)
- ExecutorService для обработки клиентов
- GameState (roomId, режим, раунд, таймер)

Client:
- Socket → ObjectOutputStream/InputStream
- JFrame: Canvas (JPanel override paintComponent(Graphics2D))
- JPanel: Чат (JTextArea), Кнопки (Готов/Старт/Отправить), Таймер JLabel
- SwingWorker для сети (не блокирует EDT)

Протокол (JSON пример):
{ "type": "DRAW", "data": {x:10,y:20,color:"red",size:2} }
{ "type": "GUESS", "data": "кот" }
```


## GUI и рисование (3 балла)

- **Компоненты:** JButton (Готов/Старт/Очистить), JTextField (ввод), JTextArea (чат/цепочка), JComboBox (цвета), JLabel (таймер/статус).
- **Рисование:** JPanel canvas (mouseDragged → Graphics2D.drawLine). Сохранять strokes как List<Path2D> для отправки/рендера.
- **Адаптивность:** BorderLayout, pack(). repaint() в SwingWorker.


## Разбивка задач (Даня/Артур)

- **Даня:** Server (логика комнаты/раундов), протокол, многопоточность.
- **Артур:** Client GUI (Canvas+чат), рисование Graphics2D, SwingWorker.
- **Вместе:** Тестирование client-server-client (локальная сеть).

**Дедлайн:** Прототип к 20.12, финал к 25.12. Запуск: java -jar server.jar; java -jar client.jar IP.**

